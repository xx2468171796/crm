## ADDED Requirements

### Requirement: 文件去重（Deduplication）
系统 SHALL 通过文件哈希实现去重功能，相同内容的文件只存储一份。

#### Scenario: 首次上传文件
- **WHEN** 用户上传一个新文件
- **THEN** 系统计算文件 SHA256 哈希
- **AND** 检查数据库中是否存在相同哈希
- **AND** 如果不存在，正常上传文件到存储
- **AND** 保存哈希值到数据库记录

#### Scenario: 重复上传相同文件（秒传）
- **WHEN** 用户上传一个已存在哈希的文件
- **THEN** 系统跳过文件上传步骤
- **AND** 直接复用已有的存储路径创建新的数据库记录
- **AND** 前端显示"秒传成功"提示

#### Scenario: 不同项目上传相同文件
- **WHEN** 用户在项目 A 和项目 B 上传相同内容的文件
- **THEN** 存储系统只保存一份文件
- **AND** 两个项目的数据库记录指向同一个存储路径

### Requirement: 哈希计算
系统 SHALL 使用 SHA256 算法计算文件哈希，确保唯一性和安全性。

#### Scenario: 前端哈希计算
- **WHEN** 用户选择文件准备上传
- **THEN** 前端使用 Web Crypto API 计算文件 SHA256 哈希
- **AND** 将哈希值发送给后端进行检查

#### Scenario: 大文件哈希计算
- **WHEN** 文件大小超过 100MB
- **THEN** 前端使用分块读取方式计算哈希
- **AND** 显示哈希计算进度
