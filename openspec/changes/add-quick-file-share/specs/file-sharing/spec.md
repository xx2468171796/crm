## ADDED Requirements

### Requirement: 分享链接生成
系统 SHALL 允许桌面端用户为指定项目生成文件传输分享链接。

#### Scenario: 成功生成分享链接
- **WHEN** 用户在项目详情页点击"生成传输链接"按钮
- **THEN** 系统显示链接设置弹窗
- **AND** 用户可以设置访问密码（可选）
- **AND** 用户可以设置访问次数限制（可选）
- **AND** 用户可以设置有效时间（默认7天）
- **AND** 系统生成一个唯一的分享链接

#### Scenario: 复制分享链接
- **WHEN** 分享链接生成成功
- **THEN** 用户可以一键复制链接
- **AND** 系统显示复制成功提示

### Requirement: 链接安全验证
系统 SHALL 支持对分享链接设置访问控制。

#### Scenario: 验证访问密码
- **WHEN** 访问者打开设置了密码的分享链接
- **THEN** 系统显示密码输入界面
- **AND** 只有输入正确密码后才能访问上传页面

#### Scenario: 访问次数限制
- **WHEN** 分享链接设置了访问次数限制
- **AND** 访问次数已达上限
- **THEN** 系统显示"链接已失效"提示
- **AND** 不允许继续访问

### Requirement: 链接加速
系统 SHALL 根据访问者地理位置自动选择最优CDN节点。

#### Scenario: 自动选择CDN节点
- **WHEN** 访问者打开分享链接
- **THEN** 系统自动检测访问者区域
- **AND** 返回对应区域的最优CDN上传地址

### Requirement: 分享页面文件上传
系统 SHALL 提供公开的分享上传页面，允许任何人通过有效链接上传文件。

#### Scenario: 通过分享链接上传文件
- **WHEN** 访问者打开有效的分享链接
- **THEN** 显示文件上传界面
- **AND** 支持拖拽上传
- **AND** 支持批量选择文件
- **AND** 支持文件夹拖拽上传

### Requirement: 分享页面UI设计
系统 SHALL 采用与客户门户一致的视觉风格设计分享上传页面。

#### Scenario: 页面视觉风格
- **WHEN** 访问者打开分享上传页面
- **THEN** 页面采用渐变背景（紫色到蓝色渐变）
- **AND** 使用圆角卡片布局
- **AND** 采用现代配色方案
- **AND** 显示项目名称和公司logo
- **AND** 上传区域有明显的拖拽提示

#### Scenario: 上传文件自动重命名
- **WHEN** 访问者通过分享链接上传文件
- **THEN** 文件自动重命名为"分享+原文件名"
- **AND** 文件存储到项目的"客户文件"分类

#### Scenario: 分享链接过期
- **WHEN** 分享链接已过期
- **THEN** 显示"链接已过期"提示
- **AND** 不允许上传文件

### Requirement: 客户门户资料上传
系统 SHALL 在客户门户的项目详情页提供资料上传功能。

#### Scenario: 客户在门户上传文件
- **WHEN** 客户在门户项目详情页点击"上传资料"
- **THEN** 显示文件上传界面
- **AND** 支持拖拽和批量上传

#### Scenario: 门户上传文件自动重命名
- **WHEN** 客户通过门户上传文件
- **THEN** 文件自动重命名为"客户上传+原文件名"
- **AND** 文件存储到项目的"客户文件"分类

### Requirement: 桌面端文件同步显示
系统 SHALL 在桌面端项目详情页的"客户文件"分类中显示所有通过分享链接或门户上传的文件。

#### Scenario: 查看分享上传的文件
- **WHEN** 用户在桌面端查看项目详情的"客户文件"分类
- **THEN** 显示所有通过分享链接上传的文件（带"分享+"前缀）
- **AND** 显示所有通过门户上传的文件（带"客户上传+"前缀）
