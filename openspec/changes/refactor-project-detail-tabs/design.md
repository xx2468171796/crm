# Design: 项目详情页顶部Tab导航布局

## Context
桌面端项目详情页当前采用左侧垂直Tab导航，内容区域较窄，信息重复显示。用户反馈布局拥挤，需要优化。

## Goals / Non-Goals

### Goals
- 释放左侧空间，让内容区域更宽敞
- 减少信息重复，提升信息密度
- 保持现有功能完整性
- 提升用户体验和视觉层次

### Non-Goals
- 不修改后端API
- 不改变数据结构
- 不影响其他页面

## Decisions

### 1. 顶部水平Tab导航
**决定**: 将左侧垂直Tab改为顶部水平Tab
**原因**: 
- 释放左侧约200px空间
- 符合常见的详情页布局模式
- Tab数量（6个）适合水平排列

### 2. 精简顶部信息区
**决定**: 顶部只保留项目名称、状态和操作按钮
**原因**: 
- 项目编号、客户名称在下方卡片中已有
- 减少重复信息

### 3. 状态进度条可折叠
**决定**: 添加折叠/展开功能，默认展开
**原因**: 
- 进度条占用较大垂直空间
- 用户可能不需要一直看到详细进度
- 保留完整功能的同时节省空间

### 4. 信息卡片三列布局
**决定**: 项目信息、客户信息、设计负责人三列并排
**原因**: 
- 充分利用水平空间
- 信息分组清晰
- 响应式设计可在小屏幕下堆叠

## Layout Structure

```
┌─────────────────────────────────────────────────────────────┐
│ ← 返回  蔡先生客廳主臥室  [待沟通]  [刷新][客户门户][...]   │ 顶部栏
├─────────────────────────────────────────────────────────────┤
│ [概览] [动态表单] [交付物] [沟通记录] [项目记录] [财务]     │ Tab导航
├─────────────────────────────────────────────────────────────┤
│ ▼ 项目进度  ①待沟通 → ②需求确认 → ③设计中 → ...          │ 可折叠进度条
├─────────────────────────────────────────────────────────────┤
│ ┌─────────────┐ ┌─────────────┐ ┌─────────────┐             │
│ │ 项目信息    │ │ 客户信息    │ │ 设计负责人  │             │ 三列卡片
│ │ - 编号      │ │ - 名称      │ │ - 技术4     │             │
│ │ - 状态      │ │ - 群码      │ │             │             │
│ │ - 周期      │ │ - 群名称    │ │             │             │
│ └─────────────┘ └─────────────┘ └─────────────┘             │
├─────────────────────────────────────────────────────────────┤
│                    Tab内容区域                               │
│                                                             │
└─────────────────────────────────────────────────────────────┘
```

## Component Changes

### ProjectDetailPage.tsx
1. 移除左侧Tab导航容器
2. 添加顶部水平Tab组件
3. 重构顶部信息区
4. 添加进度条折叠状态管理
5. 调整信息卡片为三列grid布局

## Risks / Trade-offs

| Risk | Mitigation |
|------|------------|
| Tab数量过多时水平空间不足 | 当前6个Tab，空间充足；未来可考虑下拉菜单 |
| 用户习惯改变 | 顶部Tab是更常见的模式，学习成本低 |
| 响应式布局复杂度 | 使用Tailwind响应式类处理 |

## Open Questions
- 无
